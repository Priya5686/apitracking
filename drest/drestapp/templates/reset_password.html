<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Reset Password</title>
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/auth.css' %}">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <style>
        .hidden {
            display: none;
        }
    </style>
</head>
<body>

<div class="auth-wrapper">

    <!-- ✅ Reset Password Form -->
    <form method="POST" action="" class="auth-form" id="reset-form">
        {% csrf_token %}
        <p class="sub-heading">Enter your new password</p>
        <h2>Reset Password</h2>

        <input type="password" id="password1" name="password1" placeholder="New Password" required>
        <input type="password" id="password2" name="password2" placeholder="Confirm New Password" required>

        <button type="submit" class="primary-btn">Reset Password</button>
    </form>

    <!-- ✅ Success Message + Login Form (Initially Hidden) -->
    <div id="success-section" class="hidden">
        <p class="success" id="success-message">✅ Password reset successfully!</p>

        <form id="login-form" class="auth-form" style="margin-top: 1rem;">
            <h2>Login Now</h2>

            <input type="email" id="login-email" placeholder="Email" required>
            <input type="password" id="login-password" placeholder="Password" required>

            <button type="submit" class="primary-btn">Login</button>
        </form>
    </div>

</div>

<script>
// ✅ Handle reset password form submit
document.getElementById("reset-form").addEventListener("submit", function(event) {
    event.preventDefault(); // prevent actual page reload

    // Here you should validate passwords and send AJAX if needed
    // For demo: just simulate success
    document.getElementById("reset-form").classList.add("hidden");
    document.getElementById("success-section").classList.remove("hidden");
});

// ✅ Optional: hide success message when user starts typing login
document.getElementById("login-email").addEventListener("input", function() {
    document.getElementById("success-message").style.display = "none";
});
document.getElementById("login-password").addEventListener("input", function() {
    document.getElementById("success-message").style.display = "none";
});

// ✅ Handle login form (optional)
// You can connect it to your actual login API
document.getElementById("login-form").addEventListener("submit", function(event) {
    event.preventDefault();
    // handle login submit here if needed
});
</script>

</body>
</html>
